<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reservation page</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"/>
</head>
<body>
    <div class="jumbotron">
        <h1 class="display-4">Hot Restaurant</h1>
        <p class="lead"></p>
        <hr class="my-4">
        <p>Make Reservation</p>
        <p class="lead">
          <a class="btn btn-primary btn-lg" href="#" role="button">View Tables</a>
        </p>
    </div>

    <form>
        <!-- Name -->
        <div class="form-group">
            <label for="exampleInputName1">Name</label>
            <input type="name" class="form-control" id="name" aria-describedby="emailHelp" placeholder="Enter Name">
            <small id="name" class="form-text text-muted">We'll never share your email with anyone else.</small>
        </div>
        <!-- Phone Number -->
        <div class="form-group">
            <label for="exampleInputPhoneNumber1">Phone Number</label>
            <input type="phone number" class="form-control" id="phoneNumber" aria-describedby="emailHelp" placeholder="Enter Phone Number">
            <small id="phoneNumber" class="form-text text-muted">We'll never share your email with anyone else.</small>
        </div>
        <!-- Email -->
        <div class="form-group">
          <label for="exampleInputEmail1">Email</label>
          <input type="email" class="form-control" id="email" aria-describedby="emailHelp" placeholder="Enter email">
          <small id="email" class="form-text text-muted">We'll never share your email with anyone else.</small>
        </div>
        <!-- Password -->
        <div class="form-group">
          <label for="exampleInputUniqueID1">Unique ID</label>
          <input type="uniqueId" class="form-control" id="uniqueId" placeholder="Unique Id">
        </div>
        <!--  -->
        <button type="submit" class="btn btn-primary" id="submit">Submit</button>
      </form>
    <!-- grab user forms -->

    <script type="text/javascript">
      
        const submit = document.getElementById('submit');
        
        // Question: What is "e" short for? event 
        submit.addEventListener('click', (e) => {
          e.preventDefault();
          
          // Question: What does this code do?
          let charName = document.getElementById('name').value.trim();
          let charPhoneNumber = document.getElementById('phoneNumber').value.trim();
          let charEmail = document.getElementById('email').value.trim();
          let charUniqueId = document.getElementById('uniqueId').value.trim();
          
          let newReservation = {
            name: charName,
            phoneNumber: parseInt(charPhoneNumber),
            phoneNumber: charEmail,
            forcePoints: parseInt(charUniqueId),
          };

          // Question: What does this code do??
            fetch('/api/reservations', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(newReservation),
            })
            .then((response) => response.json())
            .then((data) => {
                console.log('reserve.html', data);
                alert(`Adding reservation: ${data.name}`);
            })
            .catch((error) => {
                console.error('Error:', error);
            });
    
        }); 

    </script>
</body>
</html>
